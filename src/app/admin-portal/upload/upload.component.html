<p-toast></p-toast>

<div class="form-body">
    <p-fileUpload #mainImageForm (onSelect)="imageSelected($event)" [multiple]="false" accept="image/*" maxFileSize="1000000">
        <ng-template pTemplate="toolbar">
            <div class="py-3">Upload Main Image</div>
        </ng-template>
    </p-fileUpload>
    
    <p-fileUpload #thumbnailForm (onSelect)="thumbnailSelected($event)" [multiple]="false" accept="image/*" maxFileSize="1000000">
        <ng-template pTemplate="toolbar">
            <div class="py-3">Upload Thumbnail Image</div>
        </ng-template>
    </p-fileUpload>
    
    <form #artForm="ngForm" (ngSubmit)="submitForm()">
        <div class="p-field">
          <label for="title">Title<span class="required">*</span></label>
          <input pInputText type="text" id="title" name="title" [(ngModel)]="artpiece.title" required>
        </div>
        <div class="p-field">
          <label for="creationDate">Creation Date<span class="required">*</span></label>
          <p-calendar id="creationDate" name="creationDate" [(ngModel)]="artpiece.created" required [showIcon]="true"></p-calendar>
        </div>
        <div class="p-field">
          <label>Available<span class="required">*</span></label>
          <div class="p-formgroup-inline">
            <div class="p-field-radiobutton">
              <p-radioButton name="available" value=true label="Yes" [(ngModel)]="artpiece.available" required></p-radioButton>
            </div>
            <div class="p-field-radiobutton">
              <p-radioButton name="available" value=false label="No" [(ngModel)]="artpiece.available" required></p-radioButton>
            </div>
          </div>
        </div>
        <div class="p-field">
          <label for="collection">Collection</label>
          <p-dropdown name="collection" [options]="collections" [(ngModel)]="artpiece.collection" optionValue="name" optionLabel="name" [showClear]="true" placeholder="Select a Collection">
              <ng-template let-item pTemplate="selectedItem">
                  <div class="flex align-items-center" *ngIf="artpiece.collection">
                      <div>{{ item.name }}</div>
                  </div>
              </ng-template>
              <ng-template let-collection pTemplate="item" value="collection.name">
                  <div class="flex align-items-center">
                      <div>{{ collection.name }}</div>
                  </div>
              </ng-template>
          </p-dropdown>
          <!-- <input pInputText type="text" id="collection" name="collection" [(ngModel)]="artpiece.collection" required>  -->
        </div>
        <div class="p-field">
          <label for="medium">Medium</label>
          <!-- <p-dropdown name="medium" [options]="mediums" optionLabel="name" [(ngModel)]="artpiece.medium" required></p-dropdown> -->
          <p-dropdown name="medium" [options]="mediums" [(ngModel)]="artpiece.medium" [showClear]="true" placeholder="Select a Medium" optionValue="name">
            <ng-template let-item pTemplate="selectedItem">
                <div class="flex align-items-center" *ngIf="artpiece.medium">
                    <div>{{ item.name }}</div>
                </div>
            </ng-template>
            <ng-template let-medium pTemplate="item">
                <div class="flex align-items-center">
                    <div>{{ medium.name }}</div>
                </div>
            </ng-template>
          </p-dropdown>
          <!-- <input pInputText type="text" id="medium" name="medium" [(ngModel)]="artpiece.medium" required> -->
        </div>
        <div class="p-field">
          <label for="size">Size</label>
          <input pInputText type="text" id="size" name="size" [(ngModel)]="artpiece.size" required>
        </div>
        <div class="p-field">
            <label for="size">description<span class="required">*</span></label>
            <input pInputText type="text" id="size" name="size" [(ngModel)]="artpiece.description" required>
          </div>
        <p-button [disabled]="!canUpload || artForm.invalid" type="submit" label="Submit"></p-button>
      </form>    
</div>